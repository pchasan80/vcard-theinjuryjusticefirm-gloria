<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>vCard Popup Working</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

<style>
  .download-btn {
    background: #000;
    color: #fff;
    width: 100%;
    padding: 12px;
    border-radius: 6px;
    text-align: center;
    display: inline-block;
    text-decoration: none;
    cursor: pointer;
  }
  .popup-row {
    display: flex;
    align-items: center;
    gap: 10px;
    margin: 12px 0;
    cursor: pointer;
  }
</style>
</head>

<body>

<!-- Download vCard Button -->
<div class="container mt-4">
  <a href="#" data-bs-toggle="modal" data-bs-target="#vcardModal" class="download-btn">
    <i class="fa-solid fa-download"></i> Download Vcard
  </a>
</div>


<!-- Main Modal -->
<div class="modal fade" id="vcardModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title">Save vCard</h5>
        <button class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">

        <p>Save this vCard to Phone or send to your Email.</p>

        <!-- Save to phone -->
        <div class="popup-row" onclick="downloadVcard()">
          <i class="fa-solid fa-download"></i> Save To Phone
        </div>

        <!-- Send to email -->
        <div class="popup-row" onclick="sendToEmail()">
          <i class="fa-solid fa-envelope"></i> Send To Email
        </div>

        <!-- Send from your email -->
        <div class="popup-row" onclick="sendFromEmailApp()">
          <i class="fa-solid fa-paper-plane"></i> Send from your email
        </div>

        <!-- Leave contact info -->
        <div class="popup-row" data-bs-toggle="modal" data-bs-target="#contactModal">
          <i class="fa-solid fa-comment-dots"></i> Leave your contact info
        </div>

        <!-- Copy link -->
        <div class="d-flex align-items-center gap-2 mt-3">
          <input id="copyLink" class="form-control" value="https://qr1.be/A3O8O0">
          <button class="btn btn-dark" onclick="copyText()">copy</button>
        </div>

      </div>
    </div>
  </div>
</div>


<!-- Contact Info Modal -->
<div class="modal fade" id="contactModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title">Leave Your Contact Info</h5>
        <button class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">

        <form onsubmit="submitContact(event)">
          <input type="text" id="cname" class="form-control mb-2" placeholder="Your Name" required>
          <input type="email" id="cemail" class="form-control mb-2" placeholder="Your Email" required>
          <input type="text" id="cphone" class="form-control mb-2" placeholder="Phone Number">

          <button class="btn btn-dark w-100">Submit</button>
        </form>

      </div>
    </div>
  </div>
</div>


<!-- JS Functions -->
<script>
// 1. Download Vcard
function downloadVcard() {
  window.location.href = "yourfile.vcf"; // <-- Replace with your vCard file URL
}

// 2. Send to Email (opens mail)
function sendToEmail() {
  window.location.href =
    "mailto:?subject=Your vCard&body=Here is the vCard link: https://qr1.be/A3O8O0";
}

// 3. Open default email app
function sendFromEmailApp() {
  window.location.href = "mailto:mycase@dklaw.com";
}

// 4. Copy box link
function copyText() {
  let copyInput = document.getElementById("copyLink");
  copyInput.select();
  navigator.clipboard.writeText(copyInput.value);
  alert("Copied!");
}

// 5. Submit contact form
function submitContact(event) {
  event.preventDefault();

  let name = document.getElementById("cname").value;
  let email = document.getElementById("cemail").value;
  let phone = document.getElementById("cphone").value;

  alert("Thank you! We received your info.");

  // Close modal
  let modal = bootstrap.Modal.getInstance(document.getElementById('contactModal'));
  modal.hide();
}
</script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
